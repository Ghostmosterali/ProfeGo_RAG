<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ProfeGo - Tu biblioteca personal</title>
    <link rel="stylesheet" href="/frontend/styles.css">
</head>
<body>
    <!-- Aplicaci√≥n Principal -->
    <div id="main-section" class="section">
        <!-- Header -->
        <header class="header">
            <div class="header-content">
                <span id="user-info">üëã Hola, usuario@ejemplo.com</span>
                <button id="logout-btn" class="btn btn-logout">Cerrar Sesi√≥n</button>
            </div>
        </header>

        <!-- Men√∫ de Navegaci√≥n -->
        <nav class="nav-menu">
            <button id="nav-inicio" class="nav-btn active">üè† INICIO</button>
            <button id="nav-archivos" class="nav-btn">üìÅ ARCHIVOS</button>
            <button id="nav-consulta" class="nav-btn">üìö CONSULTA</button>
            <button id="nav-acerca" class="nav-btn">‚ÑπÔ∏è ACERCA DE</button>
        </nav>

        <!-- Contenido Principal -->
        <main id="main-content" class="main-content">
            
            <!-- Secci√≥n Inicio -->
            <div id="inicio-content" class="content-section active">
                <div class="welcome-container">
                    <h2>¬°Bienvenido a ProfeGo!</h2>
                    <p class="welcome-subtitle">Tu plataforma personal para gestionar archivos y generar planeaciones de estudio personalizados</p>
                    
                    <div class="features-grid">
                        <div class="feature-card">
                            <div class="feature-icon">‚òÅÔ∏è</div>
                            <h3>Sube archivos</h3>
                            <p>Almacena tus documentos de forma segura</p>
                        </div>
                        <div class="feature-card">
                            <div class="feature-icon">ü§ñ</div>
                            <h3>IA Generativa</h3>
                            <p>Genera planeaciones personalizadas con Gemini AI</p>
                        </div>
                        <div class="feature-card">
                            <div class="feature-icon">üìä</div>
                            <h3>Planeaciones bien estructurados</h3>
                            <p>M√≥dulos organizados y listos para usar</p>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Secci√≥n Archivos -->
            <div id="archivos-content" class="content-section hidden">
                <div class="files-container">
                    <!-- NUEVO: Bot√≥n principal para generar planes -->
                    <h2 class="library-title">üìö Mi Biblioteca</h2>

                    <div class="generate-plan-section">
                        <button id="generate-plan-btn" class="btn btn-generate-plan">
                            ‚ûï GENERAR MODULOS
                        </button>
                        <p class="section-help-text">Sube tu planeacion de estudios y diagn√≥stico para generar m√≥dulos personalizados</p>
                    </div>

                    <div class="divider"></div>
                    
                    <div class="upload-section">
                        <!----
                        <label for="file-input" class="upload-btn">üì§ Subir archivos adicionales</label>
                        --->
                        <input type="file" id="file-input" multiple accept=".pdf,.doc,.docx,.txt,.jpg,.jpeg,.png,.xlsx,.xls" hidden>
                        <p class="section-help-text">Sube archivos que quieras almacenar o procesar</p>
                        <p class="section-help-text">Previsualizacion Unicamente para archivos PDF y archivos de texto</p>
                    </div>
                    
                    
                    <div id="files-gallery" class="files-gallery">
                        <!-- Los archivos se cargar√°n aqu√≠ din√°micamente -->
                    </div>
                </div>
            </div>

            <!-- Secci√≥n Consulta (antes "Planeacion de Estudio") -->
            <div id="consulta-content" class="content-section hidden">
                <div class="consulta-container">
                    <div class="consulta-header">
                        <h2 class="consulta-title">üìö Consulta de Planes</h2>
                        <div class="consulta-stats" id="consulta-stats">
                            <span>üìä 0 planes generados</span>
                        </div>
                    </div>

                    <!-- Lista de Planes Generados -->
                    <div class="planes-generados">
                        <div id="planes-list" class="planes-list">
                            <div class="empty-state">
                                <div class="empty-icon">üìù</div>
                                <h3>No hay planes generados a√∫n</h3>
                                <p>Ve a la secci√≥n ARCHIVOS y presiona "GENERAR PLANEACION" para comenzar</p>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Secci√≥n Acerca De -->
            <div id="acerca-content" class="content-section hidden">
                <div class="about-container">
                    <h2>Sobre ProfeGo</h2>
                    <p class="about-description">
                        ProfeGo busca adaptar la forma tradicional de ense√±anza a las necesidades digitales actuales mediante la integraci√≥n de herramientas tecnol√≥gicas avanzadas como la inteligencia artificial a partir de planes de estudio personalizados, para que de esta forma ahorre tiempo y recursos a los educadores, permitiendo que los docentes personalicen las actividades de una manera m√°s efectiva acorde a los alumnos.
                        Unificando todas las funciones en una sola plataforma, ProfeGo facilita la gesti√≥n de recursos educativos, permitiendo a los profesores centrarse en lo que realmente importa: la ense√±anza y el aprendizaje.
                    </p>
                    
                    <h3>Caracter√≠sticas principales:</h3>
                    <ul class="features-list">
                        <li>‚Ä¢ Almacenamiento seguro en la nube</li>
                        <li>‚Ä¢ Procesamiento autom√°tico con OCR</li>
                        <li>‚Ä¢ Generaci√≥n de planes con Gemini AI y RAG</li>
                        <li>‚Ä¢ Personalizaci√≥n seg√∫n diagn√≥stico del grupo</li>
                        <li>‚Ä¢ Vista previa de archivos</li>
                        <li>‚Ä¢ Sincronizaci√≥n autom√°tica</li>
                        <li>‚Ä¢ Interfaz intuitiva y f√°cil de usar</li>
                        <li>‚Ä¢ Acceso desde cualquier dispositivo con internet</li>
                    </ul>
                    <h3>Contacto:</h3>
                    <p class="about-description">
                        Si tienes alguna pregunta o sugerencia, no dudes en contactarnos en <a href="mailto:profego.soporte@gmail.com">profego.soporte@gmail.com</a>
                    </p>
                </div>
            </div>
        </main>
    </div>

    <!-- Loading Overlay -->
    <div id="loading-overlay" class="loading-overlay hidden">
        <div class="loading-content">
            <div class="spinner"></div>
            <p id="loading-text">Cargando...</p>
            <p id="loading-subtext" class="loading-subtext"></p>
        </div>
    </div>

    <!-- Modal de Confirmaci√≥n -->
    <div id="confirm-modal" class="modal hidden">
        <div class="modal-content">
            <h3>Confirmar eliminaci√≥n</h3>
            <p id="confirm-message">¬øEst√°s seguro de que quieres eliminar este elemento?</p>
            <div class="modal-buttons">
                <button id="confirm-yes" class="btn btn-danger">Eliminar</button>
                <button id="confirm-no" class="btn btn-secondary">Cancelar</button>
            </div>
        </div>
    </div>

    <!-- Modal Vista Previa de Archivos -->
    <div id="preview-modal" class="modal-overlay">
        <div class="preview-modal-container">
            <div class="preview-modal-header">
                <h2 id="preview-filename">Vista previa</h2>
                <div class="preview-actions">
                    <button id="download-preview-btn" class="btn btn-secondary btn-sm" title="Descargar archivo">
                        üì• Descargar
                    </button>
                    <button id="close-preview-modal" class="close-modal-btn">‚úï</button>
                </div>
            </div>
            
            <div class="preview-modal-content">
                <div id="preview-container" class="preview-container">
                    <!-- El contenido se cargar√° aqu√≠ din√°micamente -->
                </div>
            </div>
        </div>
    </div>

    <!-- NUEVO: Modal para Generar Plan -->
    <div id="generate-plan-modal" class="modal-overlay">
        <div class="generate-plan-modal-container">
            <div class="generate-plan-modal-header">
                <h2>‚ûï Generar Planeacion de Estudio</h2>
                <button id="close-generate-plan-modal" class="close-modal-btn">‚úï</button>
            </div>
            
            <div class="generate-plan-modal-content">
                <div class="generate-plan-form">
                    <!-- Archivo 1: Plan de Estudios -->
                    <div class="file-upload-row">
                        <div class="file-upload-label">
                            <span class="required-indicator">*</span>
                            <label>üìö Planeaciones de Estudios</label>
                            <p class="help-text">Sube tus planeaciones (PDF, Word, etc.)</p>
                        </div>
                        <div class="file-upload-input">
                            <input type="file" id="plan-file-input" accept=".pdf,.doc,.docx,.txt,.jpg,.jpeg,.png" hidden>
                            <button type="button" class="btn btn-secondary" onclick="document.getElementById('plan-file-input').click()">
                                üìÅ Seleccionar archivo
                            </button>
                            <div id="plan-file-selected" class="file-selected-info">
                                <span class="no-file-text">Ning√∫n archivo seleccionado</span>
                            </div>
                        </div>
                    </div>

                    <!-- Archivo 2: Diagn√≥stico -->
                    <div class="file-upload-row">
                        <div class="file-upload-label">
                            <label>üîç Diagn√≥stico del Grupo</label>
                            <p class="help-text">Opcional: Sube el diagn√≥stico para personalizar la planeacion</p>
                        </div>
                        <div class="file-upload-input">
                            <input type="file" id="diagnostico-file-input" accept=".pdf,.doc,.docx,.txt,.jpg,.jpeg,.png" hidden>
                            <button type="button" class="btn btn-secondary" onclick="document.getElementById('diagnostico-file-input').click()">
                                üìÅ Seleccionar archivo
                            </button>
                            <div id="diagnostico-file-selected" class="file-selected-info">
                                <span class="no-file-text">Ning√∫n archivo seleccionado (opcional)</span>
                            </div>
                        </div>
                    </div>

                    <div class="info-box">
                        <strong>‚ÑπÔ∏è Informaci√≥n:</strong>
                        <ul>
                            <li>La planeacion de estudios es <strong>obligatorio</strong></li>
                            <li>El diagn√≥stico es <strong>opcional</strong> pero recomendado para personalizar</li>
                            <li>Tama√±o m√°ximo por archivo: <strong>15MB</strong></li>
                            <li>Formatos soportados: PDF, Word, im√°genes, texto</li>
                            <li>El procesamiento puede tardar <strong>1-3 minutos</strong></li>
                        </ul>
                    </div>
                </div>
            </div>

            <div class="generate-plan-modal-footer">
                <button id="process-plan-btn" class="btn btn-primary btn-large" disabled>
                    ü§ñ Generar Planeacion
                </button>
                <button id="cancel-generate-plan-btn" class="btn btn-secondary">
                    Cancelar
                </button>
            </div>
        </div>
    </div>

    <!-- NUEVO: Modal de Detalle de Plan -->
    <div id="plan-detail-modal" class="modal-overlay">
        <div class="plan-detail-modal-container">
            <div class="plan-detail-modal-header">
                <h2 id="plan-detail-title">Plan de Estudio</h2>
                <button id="close-plan-detail-modal" class="close-modal-btn">‚úï</button>
            </div>
            
            <div class="plan-detail-modal-content" id="plan-detail-content">
                <!-- El contenido del plan se cargar√° aqu√≠ din√°micamente -->
            </div>
        </div>
    </div>

    <!-- NUEVO: Modal de An√°lisis RAG -->
    <div id="rag-analysis-modal" class="modal-overlay">
        <div class="rag-analysis-modal-container">
            <div class="rag-analysis-modal-header">
                <h2>üìä Similitud con Biblio-Go</h2>
                <button id="close-rag-analysis-modal" class="close-modal-btn">‚úï</button>
            </div>
            
            <div class="rag-analysis-modal-content" id="rag-analysis-content">
                <!-- Contenido din√°mico -->
            </div>
        </div>
    </div>
    <!-- Scripts -->
    <script src="/frontend/shared.js"></script>
    <script src="/frontend/menu-script.js"></script>
</body>
</html>
